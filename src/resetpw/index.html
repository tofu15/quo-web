<!DOCTYPE html>
<html lang="ja-JP">

<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/images/favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;500;700&display=swap"
        rel="stylesheet">
    <title>初期パスワード変更</title>
    <script>
        // 检测字段是否为空
        function validateForm() {
            let result = true;
            let pwd = document.getElementById("pwd").value.trim();
            let newpwd1 = document.getElementById("newpwd1").value.trim();
            let newpwd2 = document.getElementById("newpwd2").value.trim();

            if (pwd === "") {
                document.querySelector("#pwd").setAttribute("aria-invalid", "true");
                document.querySelector("#pwd + small").innerHTML = "初期パスワードを入力してください。";
                document.getElementById("pwd").value = "";
                result = false;
            } else if (pwd != "000000") {
                document.querySelector("#pwd").setAttribute("aria-invalid", "true");
                document.querySelector("#pwd + small").innerHTML = "初期パスワードが正しくありません。";
                document.getElementById("pwd").value = "";
                result = false;
            } else {
                document.querySelector("#pwd").setAttribute("aria-invalid", "false");
            }

            if (!/^\w{8,16}$/.test(newpwd1)) {
                document.querySelector("#newpwd1").setAttribute("aria-invalid", "true");
                document.getElementById("newpwd1").value = "";
                result = false;
            } else {
                document.querySelector("#newpwd1").setAttribute("aria-invalid", "false");
            }

            if (newpwd2 === "") {
                document.querySelector("#newpwd2").setAttribute("aria-invalid", "true");
                document.querySelector("#newpwd2 + small").innerHTML = "新パスワード（確認）を入力してください。";
                document.getElementById("newpwd2").value = "";
                result = false;
            } else if (newpwd1 != newpwd2) {
                document.querySelector("#newpwd2").setAttribute("aria-invalid", "true");
                document.querySelector("#newpwd2 + small").innerHTML = "新パスワードと再入力パスワードが一致しません。";
                document.getElementById("newpwd2").value = "";
                result = false;
            } else {
                document.querySelector("#newpwd2").setAttribute("aria-invalid", "false");
            }
            return result;
        }
    </script>

</head>

<body>
    <div id="app"></div>
    <script type="module" src="./main.js"></script>
</body>

</html>